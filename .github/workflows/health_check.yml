name: Health Check

on:
  schedule:
    # At 00:00 on day-of-month 1.
    - cron: "0 0 1 * *"
  workflow_dispatch:

jobs: 
  health_check_on_deployed_website:
    runs-on: ubuntu-latest
    steps:
    - name: Check the deployed service URL
      uses: jtalk/url-health-check-action@v4
      with:
        # Check the following URLs one by one sequentially
        url: https://full-stack-open-pokedex-jpf2.onrender.com/
        # Fail this action after this many failed attempts
        max-attempts: 3 # Optional, defaults to 1
        # Delay between retries
        retry-delay: 5s # Optional, only applicable to max-attempts > 1